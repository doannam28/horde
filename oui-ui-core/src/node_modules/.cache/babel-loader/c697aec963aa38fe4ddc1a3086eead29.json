{"remainingRequest":"D:\\Project VMODEV\\Horde\\oui\\oui-master\\oui-ui-core\\src\\node_modules\\babel-loader\\lib\\index.js!D:\\Project VMODEV\\Horde\\oui\\oui-master\\oui-ui-core\\src\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Project VMODEV\\Horde\\oui\\oui-master\\oui-ui-core\\src\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Project VMODEV\\Horde\\oui\\oui-master\\oui-ui-core\\src\\src\\components\\layout\\src\\header.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Project VMODEV\\Horde\\oui\\oui-master\\oui-ui-core\\src\\src\\components\\layout\\src\\header.vue","mtime":1591674512000},{"path":"D:\\Project VMODEV\\Horde\\oui\\oui-master\\oui-ui-core\\src\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Project VMODEV\\Horde\\oui\\oui-master\\oui-ui-core\\src\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Project VMODEV\\Horde\\oui\\oui-master\\oui-ui-core\\src\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Project VMODEV\\Horde\\oui\\oui-master\\oui-ui-core\\src\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'Header',\n  data: function data() {\n    return {\n      username: '',\n      isfullScreen: false,\n      breadcrumbs: []\n    };\n  },\n  computed: {\n    lang: function lang() {\n      return this.$store.state.lang;\n    }\n  },\n  methods: {\n    fullScreen: function fullScreen() {\n      if (this.isfullScreen) {\n        if (document.exitFullscreen) {\n          document.exitFullscreen();\n        } else if (document.mozCancelFullScreen) {\n          document.mozCancelFullScreen();\n        } else if (document.webkitCancelFullScreen) {\n          document.webkitCancelFullScreen();\n        } else if (document.msExitFullscreen) {\n          document.msExitFullscreen();\n        }\n      } else {\n        var docElm = document.documentElement;\n\n        if (docElm.requestFullscreen) {\n          docElm.requestFullscreen();\n        } else if (docElm.mozRequestFullScreen) {\n          docElm.mozRequestFullScreen();\n        } else if (docElm.webkitRequestFullScreen) {\n          docElm.webkitRequestFullScreen();\n        } else if (docElm.msRequestFullscreen) {\n          docElm.msRequestFullscreen();\n        }\n      }\n\n      this.isfullScreen = !this.isfullScreen;\n    },\n    getBreadCrumbList: function getBreadCrumbList(route) {\n      var homeRoute = this.$router.options.routes[1].children[0];\n      var homeItem = {\n        title: homeRoute.meta.title\n      };\n      var matched = route.matched;\n      if (matched.some(function (item) {\n        return item.path === '/home';\n      })) return [homeItem];\n      homeItem.to = '/home';\n      var list = [homeItem, matched[0].meta];\n      if (!matched[0].redirect) list.push(matched[1].meta);\n      return list;\n    },\n    onLangCommand: function onLangCommand(cmd) {\n      var _this = this;\n\n      this.$ubus.call('oui.ui', 'lang', {\n        lang: cmd\n      }).then(function (_ref) {\n        var lang = _ref.lang;\n\n        _this.$store.commit('setLang', lang);\n\n        if (lang === 'auto') lang = navigator.language;\n        _this.$i18n.locale = lang;\n      });\n    },\n    onUserCommand: function onUserCommand(cmd) {\n      var _this2 = this;\n\n      if (cmd === 'logout') {\n        this.$router.push('/login');\n      } else if (cmd === 'reboot') {\n        this.$confirm(this.$t('Really reboot now?'), this.$t('Reboot')).then(function () {\n          _this2.$system.reboot().then(function () {\n            _this2.$reconnect('Rebooting...');\n          });\n        });\n      }\n    }\n  },\n  watch: {\n    '$route': function $route(newRoute) {\n      this.breadcrumbs = this.getBreadCrumbList(newRoute);\n    }\n  },\n  created: function created() {\n    var _this3 = this;\n\n    this.breadcrumbs = this.getBreadCrumbList(this.$route);\n    this.$session.get(function (r) {\n      _this3.username = r.username;\n    });\n  }\n};",{"version":3,"sources":["header.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <el-header class=\"header\" height=\"40px\">\n      <el-breadcrumb separator=\"/\" class=\"crumbs\">\n        <el-breadcrumb-item v-for=\"(item, i) in breadcrumbs\" :key=\"i\" :to=\"item.to\">{{ $t(item.title) }}</el-breadcrumb-item>\n      </el-breadcrumb>\n      <div class=\"header-right\">\n        <el-tooltip effect=\"dark\" :content=\"isfullScreen ? $t('Exit Full Screen') : $t('Full Screen')\" placement=\"bottom\">\n          <i class=\"iconfont iconfull\" @click=\"fullScreen\"></i>\n        </el-tooltip>\n        <el-dropdown @command=\"onLangCommand\">\n          <span class=\"arrow-down\">\n            {{ $t('Language') }}<i class=\"el-icon-arrow-down\"></i>\n          </span>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item command=\"en\" :icon=\"(lang === 'en') ? 'el-icon-arrow-right' : ''\">English</el-dropdown-item>\n            <el-dropdown-item command=\"zh-CN\" :icon=\"(lang === 'zh-CN') ? 'el-icon-arrow-right' : ''\">中文</el-dropdown-item>\n            <el-dropdown-item command=\"auto\" :icon=\"(lang === 'auto') ? 'el-icon-arrow-right' : ''\">{{ $t('Automatic') }}</el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n        <el-dropdown @command=\"onUserCommand\">\n          <span class=\"arrow-down\">\n            {{ username }}<i class=\"el-icon-arrow-down\"></i>\n          </span>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item command=\"logout\">{{ $t('Logout') }}</el-dropdown-item>\n            <el-dropdown-item command=\"reboot\">{{ $t('Reboot') }}</el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n      </div>\n    </el-header>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Header',\n  data() {\n    return {\n      username: '',\n      isfullScreen: false,\n      breadcrumbs: []\n    }\n  },\n  computed: {\n    lang() {\n      return this.$store.state.lang;\n    }\n  },\n  methods: {\n    fullScreen() {\n      if (this.isfullScreen) {\n        if (document.exitFullscreen) {\n          document.exitFullscreen()\n        } else if (document.mozCancelFullScreen) {\n          document.mozCancelFullScreen()\n        } else if (document.webkitCancelFullScreen) {\n          document.webkitCancelFullScreen()\n        } else if (document.msExitFullscreen) {\n          document.msExitFullscreen()\n        }\n      } else {\n        const docElm = document.documentElement\n        if (docElm.requestFullscreen) {\n          docElm.requestFullscreen()\n        } else if (docElm.mozRequestFullScreen) {\n          docElm.mozRequestFullScreen()\n        } else if (docElm.webkitRequestFullScreen) {\n          docElm.webkitRequestFullScreen()\n        } else if (docElm.msRequestFullscreen) {\n          docElm.msRequestFullscreen()\n        }\n      }\n\n      this.isfullScreen = !this.isfullScreen;\n    },\n    getBreadCrumbList(route) {\n      const homeRoute = this.$router.options.routes[1].children[0];\n      const homeItem = {title: homeRoute.meta.title};\n      const matched = route.matched;\n\n      if (matched.some(item => item.path === '/home'))\n        return [homeItem];\n\n      homeItem.to = '/home';\n\n      const list = [homeItem, matched[0].meta];\n\n      if (!matched[0].redirect)\n        list.push(matched[1].meta);\n\n      return list;\n    },\n    onLangCommand(cmd) {\n      this.$ubus.call('oui.ui', 'lang', {lang: cmd}).then(({lang}) => {\n        this.$store.commit('setLang', lang);\n        if (lang === 'auto')\n          lang = navigator.language;\n        this.$i18n.locale = lang;\n      });\n    },\n    onUserCommand(cmd) {\n      if (cmd === 'logout') {\n        this.$router.push('/login');\n      } else if (cmd === 'reboot') {\n        this.$confirm(this.$t('Really reboot now?'), this.$t('Reboot')).then(() => {\n          this.$system.reboot().then(() => {\n            this.$reconnect('Rebooting...');\n          });\n        });\n      }\n    }\n  },\n  watch: {\n    '$route'(newRoute) {\n      this.breadcrumbs = this.getBreadCrumbList(newRoute);\n    }\n  },\n  created() {\n    this.breadcrumbs = this.getBreadCrumbList(this.$route);\n\n    this.$session.get(r => {\n      this.username = r.username;\n    });\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  .el-breadcrumb {\n    font-size: 24px;\n  }\n\n  .header-right {\n    display: flex;\n\n    .iconfull {\n      font-size: 24px;\n      cursor: pointer;\n      margin-top: 4px;\n    }\n\n    .arrow-down {\n      cursor: pointer;\n      font-size: 24px;\n    }\n\n    > * {\n      margin-right: 20px;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/components/layout/src"}]}