{"remainingRequest":"D:\\Project VMODEV\\Horde\\oui\\oui-master\\oui-ui-core\\src\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Project VMODEV\\Horde\\oui\\oui-master\\oui-ui-core\\src\\src\\views\\system\\startup.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Project VMODEV\\Horde\\oui\\oui-master\\oui-ui-core\\src\\src\\views\\system\\startup.vue","mtime":1591674512000},{"path":"D:\\Project VMODEV\\Horde\\oui\\oui-master\\oui-ui-core\\src\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Project VMODEV\\Horde\\oui\\oui-master\\oui-ui-core\\src\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Project VMODEV\\Horde\\oui\\oui-master\\oui-ui-core\\src\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Project VMODEV\\Horde\\oui\\oui-master\\oui-ui-core\\src\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { setTimeout } from 'timers';\nexport default {\n  name: 'startup',\n  data() {\n    return {\n      initscripts: []\n    }\n  },\n  methods: {\n    load() {\n      this.$system.initList().then(initscripts => {\n        this.initscripts = initscripts.filter(item => typeof(item.start) !== 'undefined');\n      });\n    },\n    EnableDisable(init) {\n      if (init.enabled)\n        this.$system.initDisable(init.name);\n      else\n        this.$system.initEnable(init.name);\n\n      setTimeout(() => {\n        this.load();\n      }, 1000);\n    },\n    action(init, op) {\n      if (op === 'start')\n        this.$system.initStart(init.name).then(this.load);\n      else if (op === 'restart')\n        this.$system.initRestart(init.name).then(this.load);\n      else\n        this.$system.initStop(init.name).then(this.load);\n    }\n  },\n  created() {\n    this.load();\n  }\n}\n",{"version":3,"sources":["startup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"startup.vue","sourceRoot":"src/views/system","sourcesContent":["<template>\n  <el-table :data=\"initscripts\" :default-sort=\"{prop: 'start', order: 'ascending'}\">\n    <el-table-column prop=\"start\" :label=\"$t('Start priority')\"></el-table-column>\n    <el-table-column prop=\"name\" :label=\"$t('Initscript')\"></el-table-column>\n    <el-table-column prop=\"name\" label=\"#\">\n      <template v-slot=\"{ row }\">\n        <el-button :type=\"row.enabled ? 'success' : 'warning'\" size=\"mini\" @click=\"EnableDisable(row)\">{{ row.enabled ? $t('Enabled') : $t('Disabled') }}</el-button>\n      </template>\n    </el-table-column>\n    <el-table-column label=\"#\">\n      <template v-slot=\"{ row }\">\n        <el-button type=\"primary\" size=\"mini\" @click=\"action(row, 'start')\">{{ $t('Start') }}</el-button>\n        <el-button type=\"primary\" size=\"mini\" @click=\"action(row, 'restart')\">{{ $t('Restart') }}</el-button>\n        <el-button type=\"danger\" size=\"mini\" @click=\"action(row, 'stop')\">{{ $t('Stop') }}</el-button>\n      </template>\n    </el-table-column>\n  </el-table>\n</template>\n\n<script>\nimport { setTimeout } from 'timers';\nexport default {\n  name: 'startup',\n  data() {\n    return {\n      initscripts: []\n    }\n  },\n  methods: {\n    load() {\n      this.$system.initList().then(initscripts => {\n        this.initscripts = initscripts.filter(item => typeof(item.start) !== 'undefined');\n      });\n    },\n    EnableDisable(init) {\n      if (init.enabled)\n        this.$system.initDisable(init.name);\n      else\n        this.$system.initEnable(init.name);\n\n      setTimeout(() => {\n        this.load();\n      }, 1000);\n    },\n    action(init, op) {\n      if (op === 'start')\n        this.$system.initStart(init.name).then(this.load);\n      else if (op === 'restart')\n        this.$system.initRestart(init.name).then(this.load);\n      else\n        this.$system.initStop(init.name).then(this.load);\n    }\n  },\n  created() {\n    this.load();\n  }\n}\n</script>"]}]}